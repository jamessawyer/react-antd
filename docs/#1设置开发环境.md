## 1.添加代码校验

使用 *eslint* 和 *prettier* 对代码质量进行校验

> 1.安装相关开发依赖

```
# eslint相关的插件
yarn add -D eslint babel-eslint eslint-config-airbnb eslint-plugin-import eslint-plugin-jsx-a11y eslint-plugin-react

# prettier 和eslint-prettier相关的配置和插件
yarn add -D prettier eslint-config-prettier eslint-plugin-prettier
```

> 2.配置eslint

```
# 配置eslint
> touch .eslintrc .eslintignore
```

**`.eslintrc`** 表示校验规则

```
{
  "parser": "babel-eslint",
  "extends": ["airbnb", "plugin:prettier/recommended"],
  "env": {
    "browser": true,
    "node": true,
    "es6": true,
    "mocha": true,
    "jest": true,
    "jasmine": true
  },
  "parserOptions": {
    "allowImportExportEverywhere": true
  },
  "rules": {
    "linebreak-style": "off",
    "global-require": "off",
    "import/no-extraneous-dependencies": ["error", {
      "devDependencies": true
    }]
  }
}
```

**`.eslintignore`** 表示忽略校验的目录

```
# Logs
logs
*.log

# Runtime data
pids
*.pid
*.seed

# Directory for instrumented libs generated by jscoverage/JSCover
lib-cov

# Coverage directory used by tools like istanbul
coverage

# Grunt intermediate storage (http://gruntjs.com/creating-plugins#storing-task-files)
.grunt

# node-waf configuration
.lock-wscript

# Compiled binary addons (http://nodejs.org/api/addons.html)
build/Release
.eslintcache

# Dependency directory
# https://www.npmjs.org/doc/misc/npm-faq.html#should-i-check-my-node_modules-folder-into-git
node_modules
app/node_modules

# OSX
.DS_Store

# flow-typed
flow-typed/npm/*
!flow-typed/npm/module_vx.x.x.js

# App packaged
# app/main.prod.js
# app/main.prod.js.map
# app/renderer.prod.js
# app/renderer.prod.js.map
# app/style.css
# app/style.css.map
release
dist
dll
main.js
main.js.map

.idea
npm-debug.log.*
__snapshots__
```

> 3.配置prettier相关的dot文件

```
# 创建相应的dot文件
> touch .prettierrc .prettierignore
```

配置规则请查看根路径的文件

> 4.设置VSCODE 项目settings

因为项目采用vscode开发，为了配合 prettier 在文件保存时自动的格式化文件，需要手动的配置一下vscode的settings

**`CODE -> 首选项 -> 设置 -> 工作区设置`**，使用下面的代码进行自动保存
```
{
  "editor.formatOnSave": true,
  "[javascript]": {
    "editor.formatOnSave": false
  },
  "eslint.autoFixOnSave": true,
  "eslint.alwaysShowStatus": true,
  "prettier.disableLanguages": ["js"]
}
```
